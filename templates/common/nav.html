{% load static %}


<ul class="nav-list">
    <li class="nav-item">
        <a href="{% url 'home' %}">
            <iconify-icon icon="mdi:home" class="nav-icon"></iconify-icon>
            <span>Home</span>
        </a>

    </li>
        <li class="nav-item">
            {% if request.user.is_authenticated %}
                <a href="{% url 'profile-details' pk=user.profile.id %}">
                   <iconify-icon icon="hugeicons:add-female" class="nav-icon"></iconify-icon>
                   <span>Profile</span>
                </a>
            {% else %}
                <a href="{% url 'login' %}">
                   <iconify-icon icon="hugeicons:add-female" class="nav-icon"></iconify-icon>
                   <span>Profile</span>
                </a>
            {% endif %}
        </li>

    <li class="nav-item" id="articles-nav-item" aria-haspopup="true" aria-expanded="false">
        <a href="#" class="toggle-articles">
            <iconify-icon icon="mdi:newspaper" class="nav-icon"></iconify-icon>
            <span>Articles</span>
        </a>
            <div class="side-flyout" id="articles-dropdown">
                <a href="{% url 'article-category' category="self-improvement" %}">
                    <iconify-icon icon="mdi:meditation" class="flyout-icon"></iconify-icon>
                    Self-Improvement
                </a>
                <a href="{% url 'article-category' category="work-and-money" %}"><iconify-icon icon="mdi:cash-multiple" class="flyout-icon"></iconify-icon>
                    <span>Work & Money</span>
                </a>
                <a href="{% url 'article-category' category="style"%}"><iconify-icon icon="mdi:tshirt-crew" class="flyout-icon"></iconify-icon>
                    <span>Style</span>
                </a>
            </div>
    </li>

    <li class="nav-item">
        <a href="{% url 'diary-page' %}">
            <iconify-icon icon="mdi:diary" class="nav-icon"></iconify-icon>
            <span>Diary</span>
        </a>
    </li>

    <li class="nav-item">
        <a href="{% url 'track-period' %}">
            <iconify-icon icon="mdi:heart-pulse" class="nav-icon"></iconify-icon>
            <span>Feminine Health</span>
        </a>
    </li>
</ul>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const articlesNavItem = document.getElementById('articles-nav-item');
        const articlesDropdown = document.getElementById('articles-dropdown');
        let hoverTimeout;

        function showDropdown() {
            clearTimeout(hoverTimeout);
            articlesDropdown.classList.add('show');
            articlesNavItem.setAttribute('aria-expanded', 'true');
        }

        function hideDropdown() {
            hoverTimeout = setTimeout(() => {
            articlesDropdown.classList.remove('show');
            articlesNavItem.setAttribute('aria-expanded', 'false');
            }, 200);
        }

        articlesNavItem.addEventListener('mouseenter', showDropdown);
        articlesNavItem.addEventListener('mouseleave', hideDropdown);
        articlesDropdown.addEventListener('mouseenter', showDropdown);
        articlesDropdown.addEventListener('mouseleave', hideDropdown);

        articlesNavItem.addEventListener('click', function () {
            if (articlesDropdown.classList.contains('show')) {
                articlesDropdown.classList.remove('show');
                articlesNavItem.setAttribute('aria-expanded', 'false');
            } else {
                showDropdown();
            }
        });
    });
</script>
