{% load static %}
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

<ul class="nav-list">
    <li class="nav-item">
        <a href="{% url 'home' %}">
            <iconify-icon icon="mdi:home" class="nav-icon"></iconify-icon>
            <span>Home</span>
        </a>

    </li>
        <li class="nav-item">
            <a href="#">
               <iconify-icon icon="hugeicons:add-female" class="nav-icon"></iconify-icon>
               <span>Profile</span>
            </a>
        </li>

    <li class="nav-item" id="articles-nav-item" aria-haspopup="true" aria-expanded="false">
        <a href="#" class="toggle-articles">
            <iconify-icon icon="mdi:newspaper" class="nav-icon"></iconify-icon>
            <span>Articles</span>
        </a>
            <div class="side-flyout" id="articles-dropdown">
                <a href="#">
                    <iconify-icon icon="mdi:meditation" class="flyout-icon"></iconify-icon>
                    Self-Improvement
                </a>
                <a href="#"><iconify-icon icon="mdi:cash-multiple" class="flyout-icon"></iconify-icon>
                    <span>Work & Money</span>
                </a>
                <a href="#"><iconify-icon icon="mdi:tshirt-crew" class="flyout-icon"></iconify-icon>
                    <span>Style</span>
                </a>
            </div>
    </li>

    <li class="nav-item">
        <a href="#">
            <iconify-icon icon="mdi:diary" class="nav-icon"></iconify-icon>
            <span>Diary</span>
        </a>
    </li>

    <li class="nav-item">
        <a href="#">
            <iconify-icon icon="mdi:heart-pulse" class="nav-icon"></iconify-icon>
            <span>Feminine Health</span>
        </a>
    </li>
</ul>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const articlesNavItem = document.getElementById('articles-nav-item');
        const articlesDropdown = document.getElementById('articles-dropdown');
        let hoverTimeout;

        function showDropdown() {
            clearTimeout(hoverTimeout);
            articlesDropdown.classList.add('show');
            articlesNavItem.setAttribute('aria-expanded', 'true');
        }

        function hideDropdown() {
            hoverTimeout = setTimeout(() => {
            articlesDropdown.classList.remove('show');
            articlesNavItem.setAttribute('aria-expanded', 'false');
            }, 200);
        }

        articlesNavItem.addEventListener('mouseenter', showDropdown);
        articlesNavItem.addEventListener('mouseleave', hideDropdown);
        articlesDropdown.addEventListener('mouseenter', showDropdown);
        articlesDropdown.addEventListener('mouseleave', hideDropdown);

        articlesNavItem.addEventListener('click', function (e) {
            e.preventDefault();
            if (articlesDropdown.classList.contains('show')) {
                articlesDropdown.classList.remove('show');
                articlesNavItem.setAttribute('aria-expanded', 'false');
            } else {
                showDropdown();
            }
        });
    });
</script>
